@model IEnumerable<PrzegladaraStrukturyDyskowej.Models.File>


@{
    ViewData["Title"] = "Index";
}
<div>
    <p>
        home
        @foreach (var item in Model)
        {
            @Html.DisplayFor(modelItem => item.Path)
            break;
        }
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.ActionLink("Nazwa Pliku", "Index", new { sortBy = ViewBag.NameSortParm })
                </th>
                <th>
                    @Html.ActionLink("Data modyfikacji", "Index", new { sortBy = ViewBag.LastWriteTimeSortParm })
                </th>
                <th>
                    @Html.ActionLink("Rozmia Bit", "Index", new { sortBy = ViewBag.WeightByteSortParm })
                </th>
                <th>
                    @Html.ActionLink("Atrybuty", "Index", new { sortBy = ViewBag.FileTypeSortParm })
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                if (!string.IsNullOrEmpty(item.Path))
                {
                    <tr>
                        <td>
                            @Html.ActionLink("[...]", "GoBack")
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                }
                break;
            }
            @foreach (var item in Model)
            {
                @if (!string.IsNullOrEmpty(item.Name))
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.FileIcon)
                            @if (item.FileType == "Directory")
                            {
                                @Html.ActionLink(item.Name, "OpenDictionary", new { id = item.Id });
                            }
                            else
                            {
                                @Html.ActionLink(item.Name, "DownloadFileFromFileSystem", new { id = item.Id })

                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.LastWriteTime)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.WeightByte)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Atributes)
                        </td>
                        <td>
                            @Html.ActionLink("Edytuj Nazwę", "Edit", new { id = item.Id }) |
                            @Html.ActionLink("Usuń", "Delete", new { id = item.Id }) |
                            @if (item.FileType != "Directory")
                            {
                                @Html.ActionLink("Pobierz", "DownloadFileFromFileSystem", new { id = item.Id });
                            }

                        </td>
                    </tr>
                }

            }
        </tbody>
    </table>
</div>